/* ===== LAYOUT PRINCIPAL (FULL WIDTH) ===== */
.catalog-layout {
  @apply min-h-screen bg-gray-50;
}

/* ===== DRAWER DE FILTROS ===== */
:host ::ng-deep .filter-drawer {
  @apply w-full max-w-md;
}

.drawer-filters {
  @apply flex flex-col gap-0;
}

/* ===== BOTÓN FLOTANTE DE FILTROS (aparece al hacer scroll) ===== */
.floating-filter-btn {
  position: fixed;
  top: 5.5rem; /* Debajo del header público */
  left: 1rem;
  z-index: 1000; /* Debajo del drawer (1100+) */
  display: none; /* Por defecto oculto */
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: var(--p-button-primary-background, #3b82f6);
  color: var(--p-button-primary-color, white);
  border: 1px solid var(--p-button-primary-border-color, #3b82f6);
  border-radius: var(--p-button-border-radius, 0.375rem); /* Mismo border-radius que PrimeNG */
  font-weight: 500;
  font-size: 0.875rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s ease, background-color 0.2s ease;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  pointer-events: none;
}

.floating-filter-btn.visible {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
  pointer-events: auto;
  animation: slideInDown 0.3s ease;
}

.floating-filter-btn:hover {
  background: var(--p-button-primary-hover-background, #2563eb);
  border-color: var(--p-button-primary-hover-border-color, #2563eb);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
}

.floating-filter-btn i {
  font-size: 1rem;
}

.filter-badge {
  background: var(--p-badge-info-background, #3b82f6);
  color: var(--p-badge-info-color, white);
  border-radius: 50%;
  min-width: 1.25rem;
  height: 1.25rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 0.625rem;
  font-weight: 700;
  padding: 0 0.375rem;
  margin-left: 0.25rem;
}

/* Habilitar botón flotante para todas las resoluciones */
.floating-filter-btn {
  display: flex;
}

/* Ocultar el botón del header cuando se muestra el flotante */
:host ::ng-deep .filter-button.hidden-on-scroll {
  display: none !important;
}

@keyframes slideInDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ===== CONTENIDO PRINCIPAL (Full width - sin sidebar) ===== */
.catalog-content {
  @apply w-full max-w-screen-2xl mx-auto p-4 lg:p-6;
}

/* ===== HEADER ===== */
.catalog-header {
  @apply bg-white rounded-lg shadow-sm p-4 mb-4;
}

/* Fila 1: Botón Filtros + Título + Ordenamiento + Toggle */
.header-controls-row {
  @apply flex items-center gap-3 flex-wrap;
}

.filter-button {
  @apply flex-shrink-0;
}

.page-title {
  @apply text-2xl lg:text-3xl font-bold text-gray-800 flex-grow;
}

.header-right-controls {
  @apply flex items-center gap-2;
}

.sort-select {
  @apply min-w-[180px];
}

.view-toggle-button {
  @apply hidden sm:flex flex-shrink-0;
}

/* Fila 2: Contador */
.results-counter {
  @apply mt-3 pt-3 border-t border-gray-200;
}

/* ===== ESTADOS (Loading, Error, Empty) ===== */
.state-container {
  @apply flex flex-col items-center justify-center min-h-[400px] text-center py-12;
}

.loading-state {
  @apply text-blue-600;
}

.error-state {
  @apply text-red-600;
}

.empty-state {
  @apply text-gray-600;
}

/* ===== PRODUCTOS (Grid/List) ===== */
.products-wrapper {
  @apply mb-6;
}

/* Grid de productos (más columnas al tener full width) */
.products-grid {
  @apply grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4;
}

/* Lista de productos */
.products-list {
  @apply flex flex-col gap-4;
}

/* ===== PAGINADOR ===== */
.paginator-container {
  @apply mt-6 flex justify-center;
}

/* ===== RESPONSIVE ===== */

/* Mobile (<768px) */
@media (max-width: 767px) {
  .catalog-content {
    @apply p-3;
  }

  .catalog-header {
    @apply p-3;
  }

  .page-title {
    @apply text-xl flex-grow-0 order-2;
  }

  .filter-button {
    @apply order-1;
  }

  .header-right-controls {
    @apply order-3 w-full justify-between mt-2;
  }

  .header-controls-row {
    @apply items-stretch;
  }

  .sort-select {
    @apply flex-1 min-w-0;
  }

  .results-counter {
    @apply text-sm;
  }

  .state-container {
    @apply min-h-[300px] py-8;
  }

  /* En mobile mostrar menos columnas */
  .products-grid {
    @apply grid-cols-1;
  }
}

/* Tablet (768px - 1023px) */
@media (min-width: 768px) and (max-width: 1023px) {
  .catalog-content {
    @apply p-5;
  }

  .page-title {
    @apply text-2xl;
  }

  /* En tablet mostrar 3 columnas */
  .products-grid {
    @apply md:grid-cols-3;
  }
}

/* Desktop (>=1024px) */
@media (min-width: 1024px) {
  /* Header en una sola línea */
  .header-controls-row {
    @apply flex-nowrap;
  }

  .page-title {
    @apply flex-grow;
  }
}

/* Extra large screens */
@media (min-width: 1536px) {
  .catalog-content {
    @apply px-8;
  }
}
